<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio of JIYO P V">
    <meta property="og:title" content="JIYO P V ‚Äî Portfolio">
    <meta property="og:image" content="/static/images/preview.png">
    <meta property="og:description" content="Developer portfolio built with Flask.">

    <meta charset="UTF-8" />
    <title>Jiyo P V | Portfolio</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = { darkMode: "class" }
    </script>

    <!-- Bootstrap Grid -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap-grid.min.css" rel="stylesheet">

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
    .ai-suggest {
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(0,200,255,.4);
  color: #67e8f9;
  transition: 0.2s;
}

.ai-suggest:hover {
  background: rgba(0,200,255,.15);
}
#aiMessages a {
  color: #22d3ee;
  text-decoration: underline;
}
#aiMessages a:hover {
  color: #67e8f9;
}

   html.no-scroll,
body.no-scroll {
  height: 100%;
  overflow: hidden;
  position: fixed;
  width: 100%;
  overscroll-behavior: none;
}

        .glass {
            background: rgba(255,255,255,0.06);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.12);
        }
        .neon-border {
            border: 1px solid rgba(0,200,255,0.45);
            box-shadow: 0 0 10px rgba(0,200,255,0.4);
        }
        .neon-text {
            text-shadow: 0 0 10px cyan;
        }

        /* VANTA background container */
        #vanta-bg {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
        }
        /* Scanner animation */
@keyframes scan {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(300%); }
}
.animate-scan { animation: scan 1.3s infinite linear; }

/* Slow spin */
@keyframes spin-slow { 100% { transform: rotate(360deg); } }
.animate-spin-slow { animation: spin-slow 2s linear infinite; }

/* Glitch ring */
.glitch-ring { position: relative; }
.glitch-ring::before, .glitch-ring::after {
  content: "";
  position: absolute;
  inset: 0;
  border: 4px solid cyan;
  border-radius: 50%;
  filter: blur(3px);
  opacity: 0.4;
  animation: glitchRing 0.15s infinite;
}
@keyframes glitchRing {
  0% { transform: translate(2px, -2px); opacity: 0.3; }
  50% { transform: translate(-1px, 1px); opacity: 0.5; }
  100% { transform: translate(1px, -1px); opacity: 0.4; }
}

/* Glitch loading text */
.glitch-loading { position: relative; }
.glitch-loading::before,
.glitch-loading::after {
  content: attr(data-text);
  position: absolute;
  top: 0; left: 0;
  opacity: 0.7;
}
.glitch-loading::before { color: #22d3ee; transform: translate(2px, -2px); }
.glitch-loading::after  { color: #38bdf8; transform: translate(-2px, 2px); }

@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
.float-avatar {
  animation: float 4s ease-in-out infinite;
}


  .terminal-fullscreen #terminalOutput {
    height: calc(100vh - 110px) !important;
  }
}
.filter-btn {
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid rgba(0,200,255,.4);
  color: #67e8f9;
  font-size: 12px;
  transition: 0.2s;
}

.filter-btn:hover {
  background: rgba(0,200,255,.15);
}

.filter-btn.active {
  background: #22d3ee;
  color: #020617;
}

#about {
  position: relative;
  z-index: 1;
}
.skeleton {
  height: 80px;
  border-radius: 12px;
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.06),
    rgba(255,255,255,0.12),
    rgba(255,255,255,0.06)
  );
  background-size: 200% 100%;
  animation: shimmer 1.4s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

    </style>

    <script>
        function toggleTheme(){ document.documentElement.classList.toggle("dark"); }
        function toggleMenu(){ document.getElementById("mobileMenu").classList.toggle("hidden"); }
    </script>
</head>

<body class="bg-gray-950 dark:bg-black text-gray-200">
<!-- ================== LOADER WRAPPER ================== -->
<div id="loadingWrapper" class="fixed inset-0 bg-black z-[9999] flex justify-center items-center">

    <!-- ===== LOADER A: Futuristic Scanner (with glitch) ===== -->
    <div id="loaderA" class="flex flex-col justify-center items-center hidden">

        <div class="glitch-ring">
            <div class="ring w-32 h-32 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin-slow"></div>
        </div>

        <div class="relative w-48 h-2 mt-6 bg-gray-800 overflow-hidden rounded-full">
            <div class="absolute inset-y-0 w-1/3 bg-cyan-400 animate-scan"></div>
        </div>

        <p id="loaderStatus" class="mt-6 text-cyan-300 text-lg tracking-widest font-mono glitch-loading"
           data-text=" LOADING PORTFOLIO‚Ä¶">
          LOADING PORTFOLIO‚Ä¶
        </p>
    </div>

    <!-- ===== LOADER C: Cyberpunk Terminal Boot (Typing) ===== -->
    <div id="loaderC" class="font-mono text-cyan-300 text-lg hidden px-8 text-left">
        <p class="type-line" data-line="> Loading Portfolio..."></p>
    <p class="type-line" data-line="> Fetching projects & skills..."></p>
<p class="type-line" data-line="> Initializing UI animations..."></p>
<p class="type-line" data-line="> Almost there..."></p>
<p class="type-line" data-line="> WELCOME üëã"></p>

    </div>

</div>


<!-- VANTA BIRDS BACKGROUND -->
<div id="vanta-bg"></div>

<!-- NAVBAR -->
<nav class="fixed top-0 w-11/12 md:w-4/5 lg:w-3/5 mx-auto glass neon-border rounded-2xl py-3 px-5 mt-4 left-1/2 -translate-x-1/2 z-50 flex justify-between items-center">
    <h1 class="text-xl font-bold text-cyan-300 neon-text">Jiyo P V</h1>

    <div class="hidden md:flex space-x-6">
        <a href="#about" class="hover:text-cyan-300">About</a>
        <a href="#skills" class="hover:text-cyan-300">Skills</a>
        <a href="#timeline" class="hover:text-cyan-300">Education</a>
        <a href="#certifications" class="hover:text-cyan-300">Certifications</a>
        <a href="#projects" class="hover:text-cyan-300">Projects</a>
        <a href="#contact" class="hover:text-cyan-300">Contact</a>
    </div>

    <div class="flex md:hidden">
        <span onclick="toggleMenu()" class="material-icons text-cyan-300 cursor-pointer">menu</span>
    </div>


</nav>

<!-- MOBILE MENU -->
<div id="mobileMenu" class="hidden fixed top-20 w-10/12 mx-auto left-1/2 -translate-x-1/2 glass neon-border p-4 rounded-xl z-50">
    <a href="#about" class="block py-2">About</a>
    <a href="#skills" class="block py-2">Skills</a>
    <a href="#timeline" class="block py-2">Education</a>
    <a href="#certifications" class="block py-2">Certifications</a>
    <a href="#projects" class="block py-2">Projects</a>
    <a href="#contact" class="block py-2">Contact</a>
</div>

<!-- HERO -->
<section class="max-w-5xl mx-auto px-5 pt-36 pb-20 text-center" data-aos="fade-up">
    <div class="flex justify-center mb-6">
        <img src="{{ url_for('static', filename='images/avatar.png') }}"
             class="w-40 h-40 rounded-full border-4 border-cyan-400 shadow-xl object-cover float-avatar"/>
    </div>

    <h1 class="text-4xl md:text-5xl font-bold text-cyan-300 neon-text mb-4">
        <span id="heroTitle">Hi, I'm Jiyo</span>
    </h1>

    <p id="heroSubtitle" class="text-gray-300 text-lg max-w-2xl mx-auto">
        MCA Student ‚Ä¢ Python ‚Ä¢ Django ‚Ä¢ Java ‚Ä¢ Android Developer ‚Ä¢ Web Developer
    </p>

    <div class="mt-8 flex flex-wrap justify-center gap-4">
        <a href="/download-resume" class="bg-cyan-600 px-6 py-3 rounded-xl hover:bg-cyan-700 flex items-center">
            <span class="material-icons mr-1">file_download</span> Resume
        </a>
        <a href="https://github.com/jiyo-pv" target="_blank" class="bg-gray-800 border border-gray-600 px-6 py-3 rounded-xl hover:bg-gray-700 flex items-center">
            <span class="material-icons mr-2">code</span> GitHub
        </a>
        <a href="https://www.linkedin.com/in/jiyo-pv" target="_blank" class="bg-blue-700 px-6 py-3 rounded-xl hover:bg-blue-800 flex items-center">
            <span class="material-icons mr-2">work</span> LinkedIn
        </a>
    </div>
</section>

<!-- ABOUT -->
<section id="about" class="max-w-5xl mx-auto px-5 py-12" data-aos="fade-up">
  <h2 class="text-3xl font-semibold mb-4 border-b border-gray-700 pb-2">
    About Me
  </h2>

  <div class="glass neon-border rounded-2xl overflow-hidden font-mono text-sm">

    <!-- Header -->
    <div class="flex items-center justify-between px-4 py-2 bg-black/70 border-b border-gray-700">
  <div class="flex items-center gap-2">
    <span class="w-3 h-3 bg-red-500 rounded-full"></span>
    <span class="w-3 h-3 bg-yellow-400 rounded-full"></span>
    <span class="w-3 h-3 bg-green-500 rounded-full"></span>
    <span class="ml-3 text-gray-400 text-xs">jiyo@portfolio:~</span>
  </div>


</div>

    <!-- Output -->
    <div id="terminalOutput"
         class="px-4 py-4 text-gray-300 space-y-2 h-80 overflow-y-auto">
    </div>

    <!-- Input -->
    <div class="flex items-center px-4 py-3 bg-black/80 border-t border-gray-700">
      <span class="text-cyan-400 mr-2">$</span>
      <input
        id="terminalInput"
        type="text"
        class="bg-transparent outline-none w-full text-gray-200 placeholder-gray-500"
       placeholder='type "help" or press Tab to autocomplete'

        autocomplete="off"
      />
      <span class="ml-1 text-cyan-400 animate-pulse">‚ñä</span>
    </div>

  </div>
</section>




<!-- SKILLS -->
<section id="skills" class="max-w-5xl mx-auto px-5 py-12" data-aos="fade-up">
    <h2 class="text-3xl font-semibold mb-4 border-b border-gray-700 pb-2">Skills</h2>

    <div class="row g-3">
        {% for skill in [
            "Python","Java","Django","Android Studio","MySQL","PHP",
            "HTML","OracleDb","git","PostGreSQL","Flask","Flutter",
            "OOPs","C","C++","Tailwind","Bootstrap CSS","Material Design"
        ] %}
        <div class="col-6 col-md-4">
           <div class="skill glass neon-border p-4 rounded-xl text-center hover:scale-105 transition cursor-pointer"
     data-skill="{{ skill }}">
    {{ skill }}
</div>

        </div>
        {% endfor %}
    </div>
</section>

<!-- EDUCATION -->
<section id="timeline" class="max-w-5xl mx-auto px-5 py-12" data-aos="fade-up">
    <h2 class="text-3xl font-semibold mb-6 border-b border-gray-700 pb-2">Education</h2>

    <div class="relative pl-10 space-y-8">
        <div class="absolute left-4 w-1 h-full bg-cyan-400 rounded-full"></div>

        <div class="glass neon-border p-5 rounded-xl relative">
            <span class="absolute left-[-14px] top-3 w-4 h-4 bg-cyan-400 rounded-full"></span>
            <h3 class="text-xl text-cyan-300 font-semibold">Master of Computer Applications (Ongoing)</h3>
            <p class="text-gray-400">Expected 2027</p>
        </div>

        <div class="glass neon-border p-5 rounded-xl relative">
            <span class="absolute left-[-14px] top-3 w-4 h-4 bg-cyan-400 rounded-full"></span>
            <h3 class="text-xl text-cyan-300 font-semibold">Bachelor of Computer Applications</h3>
            <p class="text-gray-400">Graduated: 2025 ‚Ä¢ CGPA: 8.17</p>
        </div>
    </div>
</section>

<!-- CERTIFICATIONS -->
<section id="certifications" class="max-w-5xl mx-auto px-5 py-12" data-aos="fade-up">
    <h2 class="text-3xl font-semibold mb-6 border-b border-gray-700 pb-2">Certifications</h2>

    <div class="row g-4">
        <div class="col-md-6">
            <div class="glass neon-border p-5 rounded-xl">
                <h3 class="text-xl text-cyan-300 font-semibold">RedTeam ‚Äì Cyber Security Analyst</h3>
                 <button onclick="openPDFModal('/static/certificates/redteam.pdf')"
            class="mt-4 bg-cyan-600 px-4 py-2 rounded-lg hover:bg-cyan-700">
        View Certificate
    </button>
            </div>
        </div>

        <div class="col-md-6">
            <div class="glass neon-border p-5 rounded-xl">
                <h3 class="text-xl text-cyan-300 font-semibold">Flutter Development Workshop</h3>
                <button onclick="openPDFModal('/static/certificates/flutter.pdf')"
        class="mt-4 bg-cyan-600 px-4 py-2 rounded-lg hover:bg-cyan-700">
    View Certificate
</button>

            </div>
        </div>
    </div>
</section>

<!-- PROJECTS -->
<section id="projects" class="max-w-5xl mx-auto px-5 py-12" data-aos="fade-up">
    <h2 class="text-3xl font-semibold mb-6 border-b border-gray-700 pb-2">Projects</h2>

    <div class="row g-4">

        <!-- Project 1 -->
        <div class="col-md-6">
            <div class="glass neon-border p-5 rounded-2xl shadow-xl hover:scale-[1.04] transition">

                <img src="{{ url_for('static', filename='images/project1.png') }}" class="rounded-xl mb-3"/>

                <h3 class="text-xl font-bold text-cyan-300">Library Network System</h3>

                <p class="text-gray-300 mt-2 text-sm">
                    Django + Android system for browsing & managing books.
                </p>

                <a href="https://github.com/Jiyo-pv/LIBRARY-SYSTEM"
                   target="_blank"
                   class="block mt-4 text-center px-4 py-2 rounded-lg border border-cyan-400 text-cyan-300 hover:bg-cyan-600 hover:text-black transition">
                    View Code
                </a>
            </div>
        </div>

        <!-- Project 2 -->
        <div class="col-md-6">
            <div class="glass neon-border p-5 rounded-2xl shadow-xl hover:scale-[1.04] transition">

                <img src="{{ url_for('static', filename='images/project2.png') }}" class="rounded-xl mb-3"/>

                <h3 class="text-xl font-bold text-cyan-300">Video Game Store</h3>

                <p class="text-gray-300 mt-2 text-sm">
                    E-commerce system built using PHP and AJAX requests.
                </p>

                <a href="https://github.com/Jiyo-pv/VIDEO-GAME-STORE"
                   target="_blank"
                   class="block mt-4 text-center px-4 py-2 rounded-lg border border-cyan-400 text-cyan-300 hover:bg-cyan-600 hover:text-black transition">
                    View Code
                </a>
            </div>
        </div>

    </div>
</section>



<!-- CONTACT -->
<section id="contact" class="max-w-5xl mx-auto px-5 py-16 text-center" data-aos="fade-up">
    <div class="flex justify-center gap-2 mt-3 text-xs">
  <span class="px-3 py-1 rounded-full bg-green-900/40 text-green-300 border border-green-500/40">
    ‚óè Available for Internships

  </span>
  <span class="px-3 py-1 rounded-full bg-green-900/40 text-green-300 border border-green-500/40">

    ‚óèOpen to Opportunities
  </span>
</div>

    <h2 class="text-3xl font-semibold mb-6">Contact Me</h2>

    <form action="https://formsubmit.co/jiyopv21@gmail.com"
          method="POST"
          class="max-w-lg mx-auto glass neon-border p-6 rounded-2xl">

        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_template" value="box">
        <input type="hidden" name="_next" value="https://jiyo2025.pythonanywhere.com/success">

        <input name="name" placeholder="Your Name" required class="w-full p-3 mb-3 bg-gray-900 border border-gray-700 rounded-lg"/>

        <input name="email" type="email" placeholder="Email" required class="w-full p-3 mb-3 bg-gray-900 border border-gray-700 rounded-lg"/>

        <textarea name="message" placeholder="Message" required class="w-full p-3 mb-3 bg-gray-900 border border-gray-700 rounded-lg"></textarea>

        <button class="w-full bg-cyan-600 hover:bg-cyan-700 px-6 py-3 rounded-xl transition">Send Message</button>
    </form>
</section>

<!-- AOS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>AOS.init({ duration: 900, delay: 50 });</script>

<!-- THREE.JS + VANTA BIRDS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.birds.min.js"></script>
<script>
function isMobile() {
  return window.innerWidth <= 768;
}
</script>

<script>
window.addEventListener("scroll", () => {
  const bg = document.getElementById("vanta-bg");
  bg.style.opacity = window.scrollY > 300 ? "0.3" : "1";
});


if (!isMobile()) {
    // Desktop ‚Üí Load Birds + Three.js
    VANTA.BIRDS({
        el: "#vanta-bg",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        backgroundColor: 0x020617,
        color1: 0x22d3ee,
        color2: 0x38bdf8,
        quantity: 2
    });
} else {
    // Mobile ‚Üí Disable animated background
    document.getElementById("vanta-bg").style.background = "#020617";
}
</script>

<!-- GSAP SCRAMBLE TEXT ANIMATION -->
<script>
const chars = "!<>-_\\/[]{}‚Äî=+*^?#________";

function scrambleText(element, finalText, speed, delay, glow = false) {
    setTimeout(() => {
        let frame = 0;
        const total = finalText.length;
        const maxFrames = total * 2; // controls scramble intensity

        const interval = setInterval(() => {
            element.textContent = finalText
                .split("")
                .map((char, i) => {
                    if (frame > i * 2) return char;
                    return chars[Math.floor(Math.random() * chars.length)];
                })
                .join("");

            frame++;

            if (frame > maxFrames) {
                clearInterval(interval);
                element.textContent = finalText;

                if (glow) {
                    gsap.to(element, {
                        textShadow: "0 0 25px cyan",
                        duration: 2,
                        repeat: -1,
                        yoyo: true,
                        ease: "power1.inOut"
                    });
                }
            }
        }, speed);
    }, delay);
}
</script>


<script>
window.addEventListener("loaderDone", () => {
    const title = document.getElementById("heroTitle");
    const subtitle = document.getElementById("heroSubtitle");


    scrambleText(
        title,
        "Hi, I'm Jiyo",
        55,
        100,
        true
    );


});
</script>


<script>
function openModal() {
    const modal = document.getElementById("skillModal");
    modal.classList.remove("hidden");
    modal.classList.add("flex");
}

function closeModal() {
    const modal = document.getElementById("skillModal");
    modal.classList.add("hidden");
    modal.classList.remove("flex");
}

const skillFallbacks = {
    "Python": "Python is a high-level, versatile programming language used for web development, AI, and automation.",
    "Java": "Java is an object-oriented programming language widely used for enterprise applications and Android development.",
    "C": "C is a powerful systems programming language used for operating systems, embedded systems, and high-performance applications.",
    "C++": "C++ extends C with object-oriented features and is used for game engines, system software, and high-speed applications.",
    "Django": "Django is a high-level Python web framework that encourages rapid development and clean, pragmatic design.",
    "Flask": "Flask is a lightweight Python web framework ideal for small applications and APIs.",
    "HTML": "HTML is the standard markup language for structuring web pages.",
    "PHP": "PHP is a server-side scripting language used to build dynamic websites.",
    "MySQL": "MySQL is a popular relational database management system.",
    "PostGreSQL": "PostgreSQL is an advanced open-source relational database known for reliability and robust features.",
    "OracleDb": "Oracle Database is a multi-model database system widely used for enterprise applications.",
    "git": "Git is a version control system that tracks code changes and enables collaboration.",
    "Android Studio": "Android Studio is the official IDE for Android app development.",
    "Flutter": "Flutter is a Google UI toolkit for building cross-platform apps with a single codebase.",
    "OOPs": "Object-Oriented Programming is a programming model based on classes and objects.",
    "Tailwind": "Tailwind CSS is a utility-first CSS framework that enables rapid UI design.",
    "Bootstrap CSS": "Bootstrap is a popular CSS framework for building responsive and mobile-first websites.",
    "Material Design": "Material Design is Google‚Äôs design system for building visually consistent user interfaces."
};

// Map skills ‚Üí correct Wikipedia page names (to avoid alphabet ‚ÄúC‚Äù etc.)
const wikiPages = {
    "C": "C_(programming_language)",
    "C++": "C%2B%2B",
    "Java": "Java_(programming_language)",
    "Python": "Python_(programming_language)",
    "Django": "Django_(web_framework)",
    "Flask": "Flask_(web_framework)",
    "Flutter": "Flutter_(software)",
    "PHP": "PHP",
    "HTML": "HTML",
    "MySQL": "MySQL",
    "git": "Git",
    "PostGreSQL": "PostgreSQL",
    "OracleDb": "Oracle_Database",
    "Android Studio": "Android_Studio",
    "Tailwind": "Tailwind_CSS",
    "Bootstrap CSS": "Bootstrap_(front-end_framework)",
    "Material Design": "Material_Design"
};

async function fetchSkillInfo(skill) {
    // Use special page name if defined, otherwise encode the skill as normal
    const page = wikiPages[skill] || encodeURIComponent(skill);
    const url = `https://en.wikipedia.org/api/rest_v1/page/summary/${page}`;

    try {
        const response = await fetch(url);
        const data = await response.json();

        let text = data.extract || "";

        const techWords = [
            "programming", "software", "computer", "framework", "library",
            "language", "web", "developer", "database", "API", "IDE", "coding"
        ];

        const isTech = techWords.some(word => text.toLowerCase().includes(word));

        // If Wikipedia result looks unrelated ‚Üí use fallback
        if (!isTech || text.length < 40) {
            return skillFallbacks[skill] || "No CS-related information found.";
        }

        return text;

    } catch (error) {
        return skillFallbacks[skill] || "Failed to load information.";
    }
}

document.querySelectorAll(".skill").forEach(box => {
    box.addEventListener("click", async () => {
        const skill = box.dataset.skill;

        document.getElementById("modalTitle").textContent = skill;
        document.getElementById("modalContent").textContent = "Loading‚Ä¶";

        openModal();

        const info = await fetchSkillInfo(skill);
        document.getElementById("modalContent").textContent = info;
    });
});
</script>

<!-- SKILL INFO MODAL -->
<div id="skillModal"
     class="fixed inset-0 bg-black bg-opacity-70 hidden justify-center items-center z-50">

    <div class="glass neon-border p-6 rounded-2xl max-w-lg text-center">
        <h2 id="modalTitle" class="text-2xl font-bold text-cyan-300 mb-3"></h2>
        <p id="modalContent" class="text-gray-300 text-sm leading-relaxed"></p>

        <button onclick="closeModal()"
                class="mt-6 px-6 py-2 bg-cyan-600 hover:bg-cyan-700 rounded-xl">
            Close
        </button>
    </div>
</div>
<!-- PDF CERTIFICATE MODAL -->
<div id="pdfModal"
     class="fixed inset-0 bg-black bg-opacity-80 hidden justify-center items-center z-[9998] p-4">

    <div class="glass neon-border rounded-2xl max-w-4xl w-full h-[85vh] relative p-4">

        <button onclick="closePDFModal()"
                class="absolute top-3 right-3 bg-red-600 px-3 py-1 rounded-lg hover:bg-red-700">
            Close
        </button>

        <iframe id="pdfViewer"
                src=""
                class="w-full h-full rounded-xl border border-cyan-400">
        </iframe>
    </div>
</div>
<script>
function openPDFModal(pdfPath) {
    const modal = document.getElementById("pdfModal");
    const viewer = document.getElementById("pdfViewer");

    viewer.src = pdfPath;
    modal.classList.remove("hidden");
    modal.classList.add("flex");
}

function closePDFModal() {
    const modal = document.getElementById("pdfModal");
    const viewer = document.getElementById("pdfViewer");

    viewer.src = ""; // stop loading when closed
    modal.classList.add("hidden");
    modal.classList.remove("flex");
}
</script>
<script>
// Close PDF modal with ESC key
document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
        closePDFModal();
    }
});
</script>

<script>
// Choose randomly between Loader A and Loader C
const loaders = ["loaderA", "loaderC"];
let chosen = null;

window.addEventListener("DOMContentLoaded", () => {
    chosen = loaders[Math.floor(Math.random() * loaders.length)];
    document.getElementById(chosen).classList.remove("hidden");

    if (chosen === "loaderC") typeTerminal();
});

// Terminal typing effect (Loader C)
function typeTerminal() {
    const lines = document.querySelectorAll(".type-line");
    let index = 0;

    function typeLine() {
        if (index >= lines.length) return;

        let el = lines[index];
        let text = el.getAttribute("data-line");
        let pos = 0;

        let typer = setInterval(() => {
            el.textContent = text.substring(0, pos);
            pos++;

            if (pos > text.length) {
                clearInterval(typer);
                index++;
                setTimeout(typeLine, 150);
            }
        }, 25);
    }

    typeLine();
}

window.addEventListener("load", () => {
    const loader = document.getElementById("loadingWrapper");

    // Keep loader visible for exactly 3 seconds
  setTimeout(() => {
    loader.style.opacity = "0";
    loader.style.transition = "0.8s ease-out";

    setTimeout(() => {
        loader.style.display = "none";
        window.dispatchEvent(new Event("loaderDone"));
    }, 800);
}, 2500);

});
</script>
<script>
const loaderTexts = [
  "LOADING PORTFOLIO‚Ä¶",
  "FETCHING PROJECTS‚Ä¶",
  "INITIALIZING EXPERIENCE‚Ä¶"
];

let loaderIndex = 0;
setInterval(() => {
    const el = document.getElementById("loaderStatus");
    if (!el) return;
    el.textContent = loaderTexts[loaderIndex % loaderTexts.length];
    el.setAttribute("data-text", loaderTexts[loaderIndex % loaderTexts.length]);
    loaderIndex++;
}, 900);
</script>
<script>
window.addEventListener("scroll", () => {
  const glow = Math.min(window.scrollY / 600, 1);
  document.documentElement.style.setProperty(
    "--tw-shadow-color",
    `rgba(34,211,238,${0.3 + glow * 0.3})`
  );
});
</script>

<script>
const terminalInput = document.getElementById("terminalInput");
const terminalOutput = document.getElementById("terminalOutput");
const projectsSection = document.getElementById("projects");

terminalInput.disabled = true;

/* COMMANDS */
const commands = {
  help: `
Available commands:
‚Ä¢ whoami
‚Ä¢ uname -a
‚Ä¢ pwd
‚Ä¢ ls
‚Ä¢ chat
‚Ä¢ cat about.txt
‚Ä¢ cat skills.txt
‚Ä¢ cat status.txt
‚Ä¢ echo $GOAL
‚Ä¢ cd projects
‚Ä¢ cd certificates
‚Ä¢ cat resume.pdf
‚Ä¢ clear
`,"chat": "__CHAT__",
  "whoami": "jiyo ‚Äî MCA student & full-stack developer",
  "uname -a": "Linux portfolio 6.1.0 x86_64 GNU/Linux",
  pwd: "/home/jiyo/portfolio",
  ls: "about.txt  skills.txt  projects/  certifications/  resume.pdf",
  "cat about.txt":
    "Passionate MCA student focused on web, mobile, and backend development.\nEnjoys building clean UI, scalable systems, and learning new technologies.",
  "cat skills.txt":
    "Python, Django, Java, Android, Flask, MySQL, Web Development",
  "cat status.txt":
    "üü¢ Available for internships\nüü¢ Open to opportunities",
  "echo $GOAL":
    "Build impactful software and grow as a full-stack engineer üöÄ",
  "cd projects": "__PROJECTS__",
  "cd certificates": "__CERTIFICATES__",
  "cat resume.pdf": "__RESUME__",
  clear: "__CLEAR__",

  /* Easter eggs */
  "sudo hire-me": "currently available .visit contacts section to connect",
  "man jiyo": "jiyo(1) ‚Äî developer, problem solver, lifelong learner"
};
const autocompleteCommands = Object.keys(commands);
let autocompleteIndex = 0;

/* PRINT */
function printLine(text, isCommand = false) {
  const line = document.createElement("p");
  line.innerHTML = isCommand
    ? `<span class="text-cyan-400">$</span> ${text}`
    : text.replace(/\n/g, "<br>");
  terminalOutput.appendChild(line);
  terminalOutput.scrollTop = terminalOutput.scrollHeight;
}

/* BOOT SEQUENCE */
const bootSequence = [
  { cmd: null, out: "Welcome to My terminal" },
  { cmd: "whoami", out: commands["whoami"] },
  { cmd: "cat status.txt", out: commands["cat status.txt"] }
];

let bootIndex = 0;

function runBootSequence() {
  if (bootIndex >= bootSequence.length) {
    printLine("<span class='text-cyan-400'>$</span> Ready. Type <b>help</b>.");
    terminalInput.disabled = false;

    return;
  }

  const step = bootSequence[bootIndex];
  if (step.cmd) printLine(step.cmd, true);
  printLine(step.out);

  bootIndex++;
  setTimeout(runBootSequence, 420);
}

window.addEventListener("loaderDone", runBootSequence);

/* COMMAND HISTORY */
let history = [];
let historyIndex = -1;

/* INPUT HANDLER */
terminalInput.addEventListener("input", () => {
  autocompleteIndex = 0;
});

terminalInput.addEventListener("keydown", (e) => {
  if (e.key === "ArrowUp") {
    if (history.length && historyIndex > 0) {
      historyIndex--;
      terminalInput.value = history[historyIndex];
    }
    return;
  }
if (e.key === "Tab") {
  e.preventDefault();

  const value = terminalInput.value.trim();
  if (!value) return;

  const matches = autocompleteCommands.filter(cmd =>
    cmd.startsWith(value)
  );

  if (!matches.length) return;

  terminalInput.value =
    matches[autocompleteIndex % matches.length];

  autocompleteIndex++;
  return;
}

  if (e.key === "ArrowDown") {
    if (historyIndex < history.length - 1) {
      historyIndex++;
      terminalInput.value = history[historyIndex];
    } else {
      terminalInput.value = "";
    }
    return;
  }

  if (e.key !== "Enter") return;

  const input = terminalInput.value.trim();
  if (!input) return;

  history.push(input);
  historyIndex = history.length;

  printLine(input, true);

  if (commands[input]) {
    const action = commands[input];

    if (action === "__CLEAR__") {
      terminalOutput.innerHTML = "";
    }
    else if (action === "__PROJECTS__") {
      printLine("Navigating to projects‚Ä¶ üöÄ");
      projectsSection.scrollIntoView({ behavior: "smooth" });
    }
    else if (action === "__CERTIFICATES__") {
  printLine("Entering certifications directory‚Ä¶ üìÇ");
  document
    .getElementById("certifications")
    .scrollIntoView({ behavior: "smooth" });
}
    else if (action === "__CHAT__") {
  printLine("Opening AI chat‚Ä¶ ü§ñ");
  document.getElementById("aiChatBox").classList.remove("hidden");
  document.getElementById("aiInput").focus();
}



    else if (action === "__RESUME__") {
      printLine("Opening resume.pdf‚Ä¶");
      window.open("/download-resume", "_blank");
    }
    else {
      printLine(action);
    }
  } else {
    printLine(`command not found: ${input}`);
  }

  terminalInput.value = "";
});

/* MOBILE TAP TO FOCUS */
terminalOutput.addEventListener("click", () => {
  terminalInput.focus();

});



</script>
<!-- AI CHAT WIDGET -->
<div id="aiChatBtn"
     class="fixed bottom-6 right-6 bg-cyan-600 text-black px-4 py-3 rounded-full shadow-lg cursor-pointer hover:bg-cyan-500 z-50">
  Chat with my AI
</div>

<div id="aiChatBox"
     class="hidden fixed bottom-24 right-6 w-80 max-w-[90vw] h-[420px] glass neon-border rounded-2xl flex flex-col z-50">

  <!-- Header -->
<div class="px-4 py-3 border-b border-gray-700 text-cyan-300 font-semibold
            flex justify-between sticky top-0 bg-black/80 z-10">

    <span>Chat with my AI</span>
    <button onclick="toggleChat()" class="text-gray-400 hover:text-red-400">‚úï</button>
  </div>

  <!-- Messages -->
  <div id="aiMessages"
       class="flex-1 p-4 space-y-3 text-sm overflow-y-auto">
    <p class="text-gray-400">
      Ask me about Jiyo‚Äôs skills, projects, education, or contact details.
    </p>
  </div>

  <!-- Suggestions -->
  <div class="px-4 py-2 flex flex-wrap gap-2 text-xs">
    <button class="ai-suggest" onclick="fillSuggestion('What are your projects?')">Projects</button>
    <button class="ai-suggest" onclick="fillSuggestion('What skills do you have?')">Skills</button>
    <button class="ai-suggest" onclick="fillSuggestion('How can I contact you?')">Contact</button>
  </div>

  <!-- Input -->
  <div class="flex items-center border-t border-gray-700 px-3 py-2">
    <input id="aiInput"
           class="flex-1 bg-transparent outline-none text-gray-200 text-sm"
           placeholder="Type a message‚Ä¶" />
    <button onclick="sendMessage()"
            class="ml-2 text-cyan-300 hover:text-cyan-200">
      Send
    </button>
  </div>
</div>

</body>
<script>
const chatBtn = document.getElementById("aiChatBtn");
const chatBox = document.getElementById("aiChatBox");
const messages = document.getElementById("aiMessages");
const input = document.getElementById("aiInput");

chatBtn.addEventListener("click", toggleChat);

function toggleChat() {
  chatBox.classList.toggle("hidden");
  if (!chatBox.classList.contains("hidden")) {
    input.focus();
  }
}

function fillSuggestion(text) {
  input.value = text;
  input.focus();
}

function addMessage(text, fromUser = false, typing = false) {
  const msg = document.createElement("div");
  msg.className = fromUser
    ? "text-right text-cyan-300"
    : "text-gray-300";

  messages.appendChild(msg);
  messages.scrollTop = messages.scrollHeight;

  // ‚úÖ If message contains HTML, render instantly (no typing)
  if (text.includes("<a") || text.includes("</")) {
    msg.innerHTML = text;
    return;
  }

  if (!typing) {
    msg.textContent = text;
    return;
  }

  let i = 0;
  const interval = setInterval(() => {
    msg.textContent += text[i];
    i++;
    messages.scrollTop = messages.scrollHeight;
    if (i >= text.length) clearInterval(interval);
  }, 18);
}


async function sendMessage() {
  const text = input.value.trim();
  if (!text) return;

  addMessage(text, true);
  input.value = "";

  addMessage("Thinking‚Ä¶");

  try {
    const res = await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: text })
    });

    const data = await res.json();
    messages.lastChild.remove(); // remove "Thinking‚Ä¶"
    addMessage(data.reply || "No response.", false, true);
    if (data.scrollTo) {
  setTimeout(() => {
    const section = document.getElementById(data.scrollTo);
    if (section) {
      section.scrollIntoView({
        behavior: "smooth",
        block: "start"
      });
    }
  }, 600);
}


  } catch {
    messages.lastChild.remove();
    addMessage("Something went wrong. Please try again.");
  }
}

// Send on Enter
input.addEventListener("keydown", e => {
  if (e.key === "Enter") sendMessage();
});
</script>


<!-- FOOTER -->
<footer class="mt-20 py-6 glass neon-border text-center text-gray-300">
    <p class="text-sm">¬© {{ current_year }} Jiyo P V ‚Äî All Rights Reserved</p>

    <div class="flex justify-center gap-6 mt-3">
        <a href="https://github.com/jiyo-pv" target="_blank" class="hover:text-cyan-300">GitHub</a>
        <a href="https://www.linkedin.com/in/jiyo-pv" target="_blank" class="hover:text-cyan-300">LinkedIn</a>
        <a href="#contact" class="hover:text-cyan-300">Contact</a>
    </div>
</footer>

</html>
